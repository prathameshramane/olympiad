{% extends 'base.html' %}
{% load i18n %}
{% block body %}

<br>
<br>
<br>
<br>
<br>
<br>
<div id="invoice_pdf">
<table>
<tr>
<th>ORDER ID</th>
<th>ORDER AMOUNT</th> 
<th>REFERENCE ID</th>
<th>PAYMENT MODE</th>
<th>TRANSACTION INFOMATION</th>
<th>DOWNLOAD</th>
</tr>
{% for i in val  %}

<tr>
<td>{{i.order_id}}</td>
<td>{{i.order_amount}}</td>
<td>{{i.reference_id}}</td>
<td>{{i.payment_mode}}</td>
<td>{{i.pay_time}}</td>
<td><a href="{% url 'pdf_download' sub_order_id=i.order_id %}">Download</a></td>
</tr>

{% endfor %}
</table>
</div>
<br>
<br>

{% comment %} <button class="btn btn-primary" id="download">DOWNLOAD PDF</button> {% endcomment %}
{% endblock %}
{% block js %}

<script src="js/jspdf.js"></script>
<script src="js/jquery-2.1.3.js"></script>
<script src="js/pdfFromHTML.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.js"></script>
 <script src="pdf.js"></script>
<script src="js/jquery.min.js"></script>
<script src="js/jsPDF/dist/jspdf.min.js"></script> 
<script src="https://unpkg.com/jspdf@latest/dist/jspdf.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.5.3/jspdf.debug.js" integrity="sha384-NaWTHo/8YCBYJ59830LTz/P4aQZK1sS0SneOgAvhsIl3zBu8r9RevNg5lHCHAuQ/" crossorigin="anonymous"></script>


invoice=document.getElementById(invoice_pdf)
var doc=new jsPDF();
doc.text(invoice);
doc.save('invoice_pdf')
{% endblock  %}