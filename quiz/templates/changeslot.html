{% extends 'base.html' %}
{% block body %}
<style>
  .box {
    background-color: lightgrey;
    width: 100%;
    max-width: 1000px;
    border: 10px solid grey;
    padding: 10px;
    justify-content: center;
    align-items: center;
    margin-top: 50px;
    margin-bottom: 50px;

  }
</style>
<div class="d" style="background-color: #0007;"><br><br><br><br></div>
<div class=" box show-book-modal container" id="edit-modal">
  <center>
    <h2>Edit Slot</h2>


    <table class="resp-table">
      <tr>
        <th>Quiz Name </th>
        <th>Mock Exam Date & Time</th>
        <th>Final Exam Date & Time</th>
        <th>Select the Slot you want to Change</th>
      </tr>
      <form action="" method="post" onsubmit="return submit_form()">
        {% csrf_token %}

        {% if request.user.final_cyberolym %}


        <tr>
          <td>Cyber Olympiad</td>
          <td>{{ request.user.cybertime }}</td>
          <td>{{ request.user.cybertime_finalexam }}</td>

          <td> <input type="radio" value="cyber" id="cyber" name="change"></input></td>

        </tr>

        {% endif %}


        {% if request.user.final_mathsolym %}


        <tr>
          <td>Maths Olympiad</td>
          <td>{{ request.user.mathtime }}</td>
          <td>{{ request.user.mathtime_finalexam  }}</td>
          <td> <input type="radio" value="math" id="math" name="change"></input></td>
          {% endif %}


          {% if request.user.final_scienceolym %}


        <tr>
          <td>Science Olympiad</td>
          <td>{{ request.user.sciencetime }}</td>
          <td>{{ request.user.sciencetime_finalexam  }}</td>
          <td> <input type="radio" value="science" id="science" name="change"></input></td>
          {% endif %}

          {% if request.user.final_generalolym %}


        <tr>

          <td>Gk Olympiad</td>
          <td>{{ request.user.gktime }}</td>
          <td>{{ request.user.gktime_finalexam  }}</td>
          <td> <input type="radio" value="gk" id="gk" name="change"></input></td>

          {% endif %}

          {% if request.user.final_reasoningolym %}


        <tr>

          <td>Reasoning Olympiad</td>
          <td>{{ request.user.reasoningtime }}</td>
          <td>{{ request.user.reasoningtime_finalexam  }}</td>
          <td> <input type="radio" value="reasoning" id="reasoning" name="change"></input></td>

          {% endif %}

          {% if request.user.final_englisholym %}


        <tr>
          <td>English Olympiad</td>
          <td>{{ request.user.englishtime }}</td>
          <td>{{ request.user.englishtime_finalexam  }}</td>
          <td> <input type="radio" id="question" value="english" id="english" name="change"></input></td>

          {% endif %}




    </table>
  </center>
  <div class="row">
    <p><b>1. All the timings are in Indian Standard Time (IST).</b></p>
    <p><b>2. If you want to edit your pre-booked slot, you can do so by selecting from above and then clicking the edit
        button. Editing of slot is chargeable @ Rs. 30 per slot change.</b></p>
  </div>


  <center>
    <input type="submit" value='Edit' class="review-btn" id="submit-btn">
  </center>

  </form>
 <br>


</div>
{% endblock %}
{% block js %}
<script>
  total = 0;

  function add(e) {
    var element = document.getElementById('field');
    if (e.checked) {
      total = total + 30;
    } else {
      total = total - 30;
      if (total < 0) {
        total = 0;
      }
    }
    element.value = total.toString();
  }

  function submit_form() {
    var return_bool = false
    if (document.getElementById("cyber")) {
      return_bool = return_bool || document.getElementById("cyber").checked
    }
    if (document.getElementById("math")) {
      return_bool = return_bool || document.getElementById("math").checked
    }
    if (document.getElementById("science")) {
      return_bool = return_bool || document.getElementById("science").checked
    }
    if (document.getElementById("reasoning")) {
      return_bool = return_bool || document.getElementById("reasoning").checked
    }
    if (document.getElementById("question")) {
      return_bool = return_bool || document.getElementById("question").checked
    }
    if (document.getElementById("english")) {
      return_bool = return_bool || document.getElementById("english").checked
    }
    if (return_bool) {
      return true
    } else {
      Swal.fire({
        icon: 'error',
        title: 'No slot selected',
        text: 'Please select a slot',
      })
      return false
    }
  }
</script>
{% endblock %}